---
description: Configurazione DEFAULT filterValues per stream di eventi di timeline
---

# Stream di timeline 2.4

Configurando uno stream senza specificare alcun elemento in filterValues verranno riportati quelli di `DEFAULT`, ovvero quelli che hanno ripercussione sul cambiamento di stato del workflow o che riportano dati di interesse per il mittente, sia di carattere legale (es: legal facts) sia di business (es: numero della raccomandata).

Se oltre a questi eventi si vogliono aggiungere altri di interesse (es: SEND\_COURTESY\_MESSAGE per sapere se sono stati inviati messaggi di cortesia ai destinatari) è sufficiente indicare nel filtro DEFAULT e le categorie di eventi ulteriori.

Questa nuova API espone l'elemento `timestamp` che rappresenta l'istante in cui la piattaforma ha ricevuto l'informazione. Mentre per gli eventi che si verificano all'esterno della piattaforma (es: consegna della raccomandata) la data in cui si è verificata è indicata in un elemento all'interno dell'oggetto details (es: negli eventi della categoria SEND\_ANALOG\_FEEDBACK il timestamp è il momento in cui SEND ha ricevuto l'informazione dell'esito della notifica cartacea, mentre elemento `notificationDate` all'interno dell'oggetto `details`indica la data di consegna della raccomandata).

Nelle tabelle sottostanti sono riportati per ogni categoria di eventi la drescrione, se hanno collegato degli atti a volore legale (LegalFact) e i dettagli di maggior interesse contenuti nell'oggetto `details`.

**NOTA**: le date sono espresse nel formato standard [ISO 8601](https://en.wikipedia.org/wiki/ISO\_8601), anche detta "Zulu time", che esprime la data UTC (es: 2024-02-29T11:44:17.511990926Z corrisponde alle 12:44:17s del 29/02/2024).

## Eventi di timeline nella configurazione DEFAULT

In questa sezione sono indicati gli eventi di timeline inclusi nella configurazione "DEFAULT"  e sono stati suddivisi per fase e tipologia del workflow.

### Eventi di accettazione/rifiuto notifica <a href="#eventi-di-timeline-di-validazione-della-richiesta" id="eventi-di-timeline-di-validazione-della-richiesta"></a>

Gli eventi descritti nella tabella sottostante sono relativi al processo di accettazione della notifica.

<table data-header-hidden data-full-width="true"><thead><tr><th width="235">Category</th><th width="195">Descrizione evento</th><th width="183">LegalFact</th><th>Details</th></tr></thead><tbody><tr><td><strong>Category</strong></td><td><strong>Descrizione evento</strong></td><td><strong>LegalFact</strong><br>Atti opponibili</td><td><strong>Dettagli</strong><br>Elementi di interesse contenuti</td></tr><tr><td><strong>REQUEST_REFUSED</strong></td><td>Indica che la richiesta di notifica è stata rifiutata per un fallimento in fase di validazione</td><td> </td><td><ul><li><code>notificationCost</code>: costo della notifica rifiutata per il mittente</li><li><p><code>refusalReasons</code>:</p><ul><li><code>detail</code>: motivo del rifiuta della notifica (<em>es: Validation failed, address is not valid. Error=Invalid Address, Cap, City and Province</em>)</li><li><code>errorCode</code>: codice identificati dell'errore (<em>es: NOT_VALID_ADDRESS</em>)</li></ul></li></ul></td></tr><tr><td><strong>REQUEST_ACCEPTED</strong></td><td>Indica che la richiesta di notifica è stata accettata a seguito dei controlli di validazione</td><td>SENDER_ACK<br>Attestazione di presa in carico della notifica</td><td>-</td></tr></tbody></table>

### Eventi del workflow digitale <a href="#eventi-di-timeline-di-scelta-del-workflow-digitale" id="eventi-di-timeline-di-scelta-del-workflow-digitale"></a>

Gli eventi descritti nella tabella sottostante sono relativi al processo del workflow digitale, compreso l'eventuale invio dell'AAR tramite raccomandata semplice.&#x20;

Per i dettagli dei co

<table data-header-hidden data-full-width="true"><thead><tr><th width="266">Category</th><th width="196">Descrizione evento</th><th width="183">LegalFact</th><th>Details</th></tr></thead><tbody><tr><td><strong>Category</strong></td><td><strong>Descrizione evento</strong></td><td><strong>LegalFact</strong><br>Atti opponibili</td><td><strong>Dettagli</strong><br>Elementi di interesse contenuti</td></tr><tr><td><strong>SEND_DIGITAL_DOMICILE</strong></td><td>Indica un tentativo di invio digitale della notifica</td><td></td><td><ul><li><code>recIndex</code>:  posizione del destinatario nell'array recipients</li><li><p><code>digitalAddress</code>: indirizzo digitale del destinatario</p><ul><li><code>type</code>: <em>PEC</em></li><li><code>address</code>: indirizzo PEC</li></ul></li><li><code>digitalAddressSource</code>: tipologia del domicilio digitale (<em>PLATFORM, SPECIAL, GENERAL</em>)</li></ul></td></tr><tr><td><strong>SEND_DIGITAL_FEEDBACK</strong></td><td>Indica la ricezione di un esito ad un invio digitale</td><td>PEC_RECEIPT<br>File in formato EML che attesta la consegna della PEC<br></td><td><ul><li><code>recIndex</code>:  posizione del destinatario nell'array recipients</li><li><code>responseStatus</code>: esito dell'invio digitale (<em>es: OK</em>)</li><li><code>notificationDate</code>: data di consegna o mancata consegna della PEC.</li><li><code>deliveryFailureCause</code>: Eventuali errori (*)</li><li><code>deliveryDetailCode</code>: Codice di consegna (*)</li></ul></td></tr><tr><td><strong>DIGITAL_SUCCESS_WORKFLOW</strong></td><td>Indica il completamento con successo il workflow di invio digitale.</td><td>DIGITAL_DELIVERY Attestazione generata alla conclusione dei tentativi di invio sui domicili digitali disponibili, nel caso si siano completati con un evento di consegna</td><td><ul><li><code>recIndex</code>:  posizione del destinatario nell'array recipients</li><li><p><code>digitalAddress</code>: indirizzo digitale del destinatario</p><ul><li><code>type</code>: <em>PEC</em></li><li><code>address</code>: indirizzo PEC</li></ul></li></ul></td></tr><tr><td><strong>DIGITAL_FAILURE_WORKFLOW</strong></td><td>Indica il completamento con fallimento il workflow di invio digitale: <strong>tutti i tentativi di invio ai domicili digitali sono falliti</strong></td><td>DIGITAL_DELIVERY<br>generata alla conclusione dei tentativi di invio sui domicili digitali disponibili, nel caso si siano completati con una mancata consegna</td><td><ul><li><code>recIndex:</code> indica l'indice dell'array del destinatario per il quale è fallito l'invio digitale<br></li></ul></td></tr><tr><td><strong>SEND_SIMPLE_REGISTERED_LETTER</strong></td><td>Indica l'invio di raccomandata semplice</td><td></td><td><p></p><ul><li><code>recIndex</code>:  posizione del destinatario nell'array recipients</li><li><code>analogCost</code>: costo dell’invio cartaceo</li><li><code>physicalAddress</code>: indirizzo fisico del destinatario</li></ul></td></tr><tr><td><strong>SEND_SIMPLE_REGISTERED_LETTER_PROGRESS</strong></td><td>Indica la ricezione di informazioni  relative all'invio della raccomandata semplice<br><br></td><td></td><td><ul><li><code>recIndex</code>:  posizione del destinatario nell'array recipients</li><li><code>registeredLetterCode</code> : codice della lettera per il destinatario</li><li><code>deliveryDetailCode</code>: codice del dettaglio dell'eveto di progress</li></ul></td></tr></tbody></table>

(\*) Per la decodifica dei codici di `deliveryDetailCode` all'interno dei details degli eventi si rimanda alla pagina [decodifiche-send\_digital.md](decodifiche-send\_digital.md "mention")

### Eventi del workflow Analogico <a href="#eventi-di-timeline-di-scelta-del-workflow-analogico" id="eventi-di-timeline-di-scelta-del-workflow-analogico"></a>

<table data-header-hidden data-full-width="true"><thead><tr><th width="262">Category</th><th width="151">Descrizione evento</th><th width="177">LegalFact</th><th>Details</th></tr></thead><tbody><tr><td><strong>Category</strong></td><td><strong>Descrizione evento</strong></td><td><strong>LegalFact</strong><br>Atti opponibili</td><td><strong>Dettagli</strong><br>Elementi di interesse contenuti</td></tr><tr><td><strong>SEND_ANALOG_DOMICILE</strong></td><td>Invio cartaceo dell’avviso di notifica<br></td><td></td><td><ul><li><code>recIndex</code>:  posizione del destinatario nell'array recipients</li><li><code>analogCost:</code> costo dell’invio cartaceo</li><li><code>productType / serviceLevel</code> : tipologia del prodotto inviato (<em>es: 890/AR)</em></li><li><code>physicalAddress:</code> indirizzo fisico del destinatario</li></ul></td></tr><tr><td><strong>SEND_ANALOG_FEEDBACK</strong></td><td>Ricezione esito dell'invio cartaceo</td><td></td><td><ul><li><code>recIndex</code>:  posizione del destinatario nell'array recipients</li><li><code>physicalAddress:</code> indirizzo fisico del destinatario</li><li><code>responseStatus:</code> contiene l’esito dell'invio cartaceo. (<em>es: OK, KO</em>)</li><li><code>notificationDate</code>: data di consegna o mancata consegna.</li><li><code>registeredLetterCode:</code>codice della lettera per il mittente</li><li><code>deliveryDetailCode:</code>codice del dettaglio esito invio cartaceo</li><li><code>deliveryFailureCause</code>: causa del fallimento della consegna</li><li><code>serviceLevel</code>: tipologia del prodotto inviato (<em>es: 890/AR)</em></li><li><code>newAddress</code>: Eventuale indirizzo fisico a seguito di indagine svolta in  loco da parte dell'addetto al recapito postale</li></ul></td></tr><tr><td><strong>ANALOG_SUCCESS_WORKFLOW</strong></td><td>Completato con successo il workflow di invio cartaceo.</td><td></td><td><ul><li><code>recIndex</code>:  posizione del destinatario nell'array recipients</li><li><code>physicalAddress:</code> indirizzo fisico del destinatario</li></ul><p></p></td></tr><tr><td><strong>ANALOG_FAILURE_WORKFLOW</strong></td><td><p>Completato con fallimento il workflow di invio cartaceo.</p><p></p></td><td></td><td><ul><li><code>recIndex</code>:  posizione del destinatario nell'array recipients</li><li><code>generatedAarUrl</code>: deposito della AAR</li></ul></td></tr><tr><td><strong>COMPLETELY_UNREACHABLE</strong></td><td>Il destinatario è risultato irraggiungibile.</td><td>ANALOG_FAILURE_DELIVERY<br>Attestazione di Deposito di Avviso di Avvenuta Ricezione</td><td><ul><li><code>recIndex</code>:  posizione del destinatario nell'array recipients</li></ul></td></tr></tbody></table>

(\*) Per la decodifica dei codici di e `deliveryFailureCause` e `deliveryDetailCode` all'interno dei details degli eventi di SEND\_ANALOG\_FEEDBACK si rimanda alla pagina [decodifiche-send\_analog.md](decodifiche-send\_analog.md "mention")

### Eventi di chiusura del workflow <a href="#eventi-di-timeline-di-chiusura-del-workflow" id="eventi-di-timeline-di-chiusura-del-workflow"></a>

<table data-header-hidden data-full-width="true"><thead><tr><th width="265">Category</th><th width="147">Descrizione evento</th><th width="193">LegalFact</th><th>Details</th></tr></thead><tbody><tr><td><strong>Category</strong></td><td><strong>Descrizione evento</strong></td><td><strong>LegalFact</strong><br>Atti opponibili</td><td><strong>Dettagli</strong><br>Elementi di interesse contenuti</td></tr><tr><td><strong>REFINEMENT</strong></td><td>Perfezionamento per decorrenza termini</td><td></td><td><p></p><ul><li><code>recIndex</code>:  posizione del destinatario nell'array recipients</li><li><code>notificationCost:</code> costo della notifica rifiutata per il mittente</li><li><code>eventTimestamp:</code> indica la data di perfezionamento della notifica per decorrenza termini</li></ul></td></tr><tr><td><strong>NOTIFICATION_VIEWED</strong></td><td>Visualizzazione della notifica (perfeziona la notifica se non già perfezionata per decorrenza termini o da altro destinatario)</td><td>RECIPIENT_ACCESS<br>Attestazione di avvenuto accesso</td><td><ul><li><code>recIndex</code>:  posizione del destinatario nell'array recipients</li><li><code>notificationCost:</code> costo della notifica per il mittente</li><li><code>eventTimestamp:</code> data di business in cui è stata visualizzata la notifica</li><li><p><code>delegateInfo</code> struttura che contiene le informazione dell'evenutale delegato che ha fatto accesso alla notifica.</p><ul><li><code>taxId</code>: codice fiscale del delegato</li><li><code>denomination</code>: denominazione delegato</li><li><code>delegateType</code>: tipologia delegato PF/PG</li></ul></li></ul></td></tr><tr><td><strong>NOTIFICATION_CANCELLED</strong></td><td>Evento di fine della cancellazione della notifica dal parte del mittente.</td><td></td><td><ul><li><code>notificationCost:</code> costo della notifica annullata per il mittente</li></ul></td></tr></tbody></table>

### Altre eventi di timeline <a href="#altre-eventi-di-timeline" id="altre-eventi-di-timeline"></a>

<table data-header-hidden data-full-width="true"><thead><tr><th width="268">Category</th><th width="149">Descrizione evento</th><th width="186">LegalFact</th><th>Details</th></tr></thead><tbody><tr><td><strong>Category</strong></td><td><strong>Descrizione evento</strong></td><td><strong>LegalFact</strong><br>Atti opponibili</td><td><strong>Dettagli</strong><br>Elementi di interesse contenuti</td></tr><tr><td><strong>NOTIFICATION_RADD_RETRIEVED</strong></td><td>Evento di accesso alla notifica tramite RADD</td><td></td><td><ul><li><code>recIndex</code>:  posizione del destinatario nell'array recipients</li><li><code>eventTimestamp</code>: data di consegna della notifica</li><li><code>raddType</code>: tipologia soggetto RADD</li><li><code>raddTransactionId</code>: identificativo della transazione RADD</li></ul></td></tr></tbody></table>

## **Eventi aggiuntivi al DEFAULT**

In questo paragrafo sono indicati altri eventi della timeline che non hanno effetto sullo stato della notifica e non hanno una importanza prioritaria per il mittente, ma possono essere interessanti per recuperare delle informazioni di dettaglio. Ricordiamo che questi dati sono mantenuti dalla piattaforma in modo sicuro per 10 anni e sono sempre disponibili per essere recuperati tramite le API.

### Eventi di preparazione workflow <a href="#eventi-di-timeline-di-preparazione-workflow" id="eventi-di-timeline-di-preparazione-workflow"></a>

<table data-header-hidden data-full-width="true"><thead><tr><th width="235">Category</th><th width="195">Descrizione evento</th><th width="183">LegalFact</th><th>Details</th></tr></thead><tbody><tr><td><strong>Category</strong></td><td><strong>Descrizione evento</strong></td><td><strong>LegalFact</strong><br>Atti opponibili</td><td><strong>Dettagli</strong><br>Elementi di interesse contenuti</td></tr><tr><td><strong>AAR_GENERATION</strong></td><td>Generazione dell’AAR (Avviso di Avvenuta Ricezione)</td><td> </td><td><ul><li><code>recIndex:</code> posizione del destinatario nell'array recipients</li><li><code>generatedAarUrl</code>: url per accedere all'avviso di avvenuta ricezione</li></ul></td></tr><tr><td><strong>SEND_COURTESY_MESSAGE</strong></td><td>Invio di un messaggio di cortesia.</td><td></td><td><ul><li><code>recIndex:</code> posizione del destinatario nell'array recipients</li><li><p><code>digitalAddress</code></p><ul><li><code>type</code>: tipologia messaggio di OPT_IN o un messaggio su APPIO, EMAIL o SMS</li><li><code>address</code>: indirizzo email o numero di telefono utilizzato per il messaggio.</li></ul></li></ul></td></tr><tr><td><strong>PROBABLE_SCHEDULING_ANALOG_DATE</strong></td><td>Indica che il workflow può essere sospeso per 120h a fronte di un invio di un messaggio di cortesia.</td><td></td><td><ul><li><code>recIndex:</code> posizione del destinatario nell'array recipients</li><li><code>schedulingAnalogDate</code>: data di inizio del workflow analogico, ritardato a causa di invio di messaggi di cortesia.</li></ul></td></tr></tbody></table>

### Eventi di scelta del workflow

<table data-header-hidden data-full-width="true"><thead><tr><th width="293">Category</th><th width="149">Descrizione evento</th><th width="186">LegalFact</th><th>Details</th></tr></thead><tbody><tr><td><strong>Category</strong></td><td><strong>Descrizione evento</strong></td><td><strong>LegalFact</strong><br>Atti opponibili</td><td><strong>Dettagli</strong><br>Elementi di interesse contenuti</td></tr><tr><td><strong>PUBLIC_REGISTRY_RESPONSE</strong></td><td>Indica la ricezione di un domicilio digitale dai registri nazionali</td><td></td><td><ul><li><code>recIndex:</code> posizione del destinatario nell'array recipients</li><li><p><code>digitalAddress</code>: indirizzo digitale del destinatario</p><ul><li><code>type</code>: <em>PEC</em></li><li><code>address</code>: indirizzo PEC</li></ul></li></ul></td></tr></tbody></table>

### Eventi con evidenze dell'invio

Gli eventi di PROGRESS sono eventi restituiti dai servizi esterni di invio digitale (SEND\_DIGITAL\_PROGRESS) e cartaceo (SEND\_ANALOG\_PROGRESS).

Questi eventi possono contenere anche dei legalFact esterni come il messaggio di consegna della PEC (in formato EML) nel caso di invio digitale o le scansioni della ricevuta di consegna, del plico, del avviso di ricevimento, dell'indagine del postino nel caso di invio di raccomandata.

<table data-header-hidden data-full-width="true"><thead><tr><th width="278">Category</th><th width="149">Descrizione evento</th><th width="195">LegalFact</th><th>Details</th></tr></thead><tbody><tr><td><strong>Category</strong></td><td><strong>Descrizione evento</strong></td><td><strong>LegalFact</strong><br>Atti opponibili</td><td><strong>Dettagli</strong><br>Elementi di interesse contenuti</td></tr><tr><td><strong>SEND_DIGITAL_PROGRESS</strong></td><td>Indica un evento successivo relativo  all'invio della PEC.<br></td><td>PEC_RECEIPT *<br>File in formato EML che attesta la accettazione della PEC</td><td><ul><li><code>recIndex:</code> posizione del destinatario nell'array recipients</li><li><code>eventTimestamp</code>: data di business dell'evento</li><li><code>digitalAddress:</code> indirizzo digitale del destinatario</li></ul></td></tr><tr><td><strong>SEND_ANALOG_PROGRESS</strong></td><td>Indica un evento successivo relativo all'invio cartaceo</td><td><p>ANALOG_DELIVERY*<br>A seconda dei casi sono riportate le scansioni di: </p><ul><li>Ricevuta di consegna con deliveryDetailCode <code>RECRN001B</code></li><li>Scansione Plico  con deliveryDetailCode <code>RECRN002B</code>, <code>RECRN004B</code>, <code>RECRN002E</code></li><li>Avviso di ricevimento con deliveryDetailCode <code>RECRN003B</code></li><li>Indagine  con deliveryDetailCode <code>RECRN002E</code></li></ul></td><td><ul><li><code>recIndex:</code> posizione del destinatario nell'array recipients</li><li><code>notificationDate</code>: data evento</li><li><code>deliveryDetailCode</code>: codice consegna (*)</li><li><code>serviceLevel</code>: tipologia di servizio</li><li><code>registeredLetterCode</code>: identificativo raccomandata</li></ul></td></tr><tr><td><strong>PREPARE_ANALOG_DOMICILE_FAILURE</strong></td><td><p></p><p>Invio cartaceo non possibile: non è stato trovato nessun indirizzo valido per predisporre il tentativo.</p></td><td></td><td><ul><li><p><code>failureCause :</code> indica il motivo del fallimento del secondo invio tramite i codici</p><ul><li><code>D00</code>: Non è stato trovato nessun nuovo indirizzo per predisporre un altro tentativo di invio.</li><li><code>D01</code>: L’indirizzo non ha superato il processo di validazione. </li><li><code>D02</code>: L’indirizzo è già stato usato per effettuare un tentativo di invio.</li></ul></li></ul></td></tr></tbody></table>

(\*) Per la decodifica dei codici di `deliveryDetailCode` all'interno dei details degli eventi di SEND\_ANALOG\_PROGRESS si rimanda alla pagina [decodifiche-send\_analog.md](decodifiche-send\_analog.md "mention")\
